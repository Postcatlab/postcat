<section class="detail_page">
  <div class="mt-4">
    <nz-tag [nzColor]="'#108ee9'">{{ apiData.protocol | uppercase }}</nz-tag>
    <nz-tag [nzColor]="'#0aa07a'">{{ apiData.method | uppercase }}</nz-tag>
    <span class="mt-2.5 dp_b text_omit">{{ apiData.uri }}</span>
  </div>
  <p class="api_name text_omit">{{ apiData.name }}</p>
  <!-- Request headers -->
  <nz-collapse *ngIf="apiData.requestHeaders && apiData.requestHeaders.length" class="eo_collapse" [nzGhost]="true">
    <nz-collapse-panel [nzActive]="true" i18n-nzHeader nzHeader="Request Headers">
      <eo-api-detail-header class="flex pt-2.5" [model]="apiData.requestHeaders"></eo-api-detail-header>
    </nz-collapse-panel>
  </nz-collapse>
  <!-- Query params -->
  <nz-collapse *ngIf="apiData.queryParams && apiData.queryParams.length" class="eo_collapse" [nzGhost]="true">
    <nz-collapse-panel [nzActive]="true" i18n-nzHeader nzHeader="Query">
      <eo-api-detail-header class="flex pt-2.5" [model]="apiData.queryParams"></eo-api-detail-header>
    </nz-collapse-panel>
  </nz-collapse>
  <!-- Rest params -->
  <nz-collapse *ngIf="apiData.restParams && apiData.restParams.length" class="eo_collapse" [nzGhost]="true">
    <nz-collapse-panel [nzActive]="true" i18n-nzHeader nzHeader="REST">
      <eo-api-detail-header class="flex pt-2.5" [model]="apiData.restParams"></eo-api-detail-header>
    </nz-collapse-panel>
  </nz-collapse>
  <!-- Body -->
  <nz-collapse *ngIf="apiData.requestBody?.length" class="eo_collapse" [nzGhost]="true">
    <nz-collapse-panel [nzActive]="true" i18n-nzHeader nzHeader="Body">
      <div class="my-2.5">
        <nz-tag nzColor="default">{{ CONST.BODY_TYPE[apiData.requestBodyType] }}</nz-tag>
        <nz-tag *ngIf="apiData.requestBodyType === 'json'" nzColor="default" i18n
          >The outermost structure is: {{ CONST.JSON_ROOT_TYPE[apiData.requestBodyJsonType] }}</nz-tag
        >
      </div>
      <eo-api-detail-body
        [bodyType]="apiData.requestBodyType"
        [model]="apiData.requestBody"
        [jsonRootType]="apiData.requestBodyJsonType"
      ></eo-api-detail-body>
    </nz-collapse-panel>
  </nz-collapse>
  <!-- Response headers -->
  <nz-collapse *ngIf="apiData.responseHeaders && apiData.responseHeaders.length" class="eo_collapse" [nzGhost]="true">
    <nz-collapse-panel [nzActive]="true" i18n-nzHeader nzHeader="Response Headers">
      <eo-api-detail-header class="flex pt-2.5" [model]="apiData.responseHeaders"></eo-api-detail-header>
    </nz-collapse-panel>
  </nz-collapse>
  <!-- Response -->
  <nz-collapse *ngIf="apiData.responseBody?.length" class="eo_collapse" [nzGhost]="true">
    <nz-collapse-panel [nzActive]="true" i18n-nzHeader nzHeader="Response">
      <div class="my-2.5">
        <nz-tag nzColor="default">{{ CONST.BODY_TYPE[apiData.responseBodyType] }}</nz-tag>
        <nz-tag *ngIf="apiData.responseBodyType === 'json'" nzColor="default" i18n
          >The outermost structure is: {{ CONST.JSON_ROOT_TYPE[apiData.responseBodyJsonType] }}</nz-tag
        >
      </div>
      <eo-api-detail-body
        [bodyType]="apiData.responseBodyType"
        [model]="apiData.responseBody"
        [jsonRootType]="apiData.responseBodyJsonType"
      ></eo-api-detail-body>
    </nz-collapse-panel>
  </nz-collapse>
  <!-- MOCK -->
  <nz-collapse *ngIf="isElectron" class="eo_collapse" [nzGhost]="true">
    <nz-collapse-panel [nzActive]="true" i18n-nzHeader nzHeader="MOCK">
      <eo-api-detail-mock class="flex pt-2.5" [apiData]="apiData"></eo-api-detail-mock>
    </nz-collapse-panel>
  </nz-collapse>
</section>
