<form nz-form nzLayout="inline" (ngSubmit)="changeGroupName()">
  <nz-form-item>
    <nz-form-control [nzValidateStatus]="model?.name ? '' : 'error'" i18n-nzErrorTip nzErrorTip="Please input groupName">
      <div class="flex items-center">
        <ng-container *ngIf="isEdit">
          <div class="invisible px-[20px] min-w-[151px]">{{ model.name }}</div>
          <input
            #groupNameInputRef
            class="absolute"
            eo-ng-input
            autofocus
            placeholder="Project Name"
            name="projectName"
            (blur)="changeGroupName()"
            required
            [(ngModel)]="model.name"
          />
        </ng-container>
        <ng-container *ngIf="!isEdit">
          <h4 nz-typography class="!mb-[0px]">{{ model?.name }}</h4>
          <span nz-button nzType="link" class="ml-[5px] cursor-pointer" (click)="startEditGroupName()">
            <eo-iconpark-icon name="edit"></eo-iconpark-icon>
          </span>
        </ng-container>
      </div>
    </nz-form-control>
  </nz-form-item>
</form>

<eo-ng-tabset class="overflow-auto">
  <eo-ng-tab i18n-nzTitle nzTitle="Authorization">
    <div class="top-save-bar">
      <button type="submit" eo-ng-button nzType="primary" [nzLoading]="!globalStore.isLocal && isSaving" (click)="saveEnv()" i18n>
        Save
      </button>
    </div>

    <div class="text-tips mt-[15px] mb-[13px]" i18n>
      Authorzation will take effect for each API under the group during testing, and you can also override the authorization in the API.
    </div>

    <authorization-extension-form [groupID]="model.depth > 1 ? model.parentId : undefined"> </authorization-extension-form>
  </eo-ng-tab>
</eo-ng-tabset>
